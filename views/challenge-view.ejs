<div style="display: grid;">
    <h1 class="display-4 heading" style="grid-column-start: 1; grid-column-end: 5;">Dein Fortschritt in der Challenge
        &nbsp; <strong> <%= challenge.info.challengeName %> </strong> </h1>
    <a href="/dashboard" class="btn btn-secondary" style="height: 20%; grid-column: 6;"> Zurück zur Übersicht</a>
</div>    



<div class="container" >
    <div style="text-align: left; background-color: var(--decent-green); border-radius: 5px;">
        Läuft vom: <b><%= challenge.info.startDate %></b> bis: <b><%= challenge.info.endDate %></b>
        &nbsp; &nbsp; NOCH <%= challenge.info.daysLeft %> Tage
    </div>

    <a class="display-4" style="font-size: 20px;">Deine Eingaben</a>
    <table class="table table-striped table-bordered">
      <thead class="thead-dark">
        <tr>
          <th>Datum der Eingabe</th>
          <th>Wert</th>
        </tr>
      </thead>
      <tbody>
        <% for (var i = 0; i < challenge.entries.length;  i++) { %>
        <tr>
          <td><%= challenge.entries[i].date %></td>
          <td><%= challenge.entries[i].value %></td>
        </tr>    
        <% } %>
        <!-- final row -->
        <tr>
            <td><%= challenge.entries.length %> Einträge</td>
            <td><%= challenge.progress.sum %> <%= challenge.info.unit %></td> 
          </tr> 
      </tbody>
    </table>

    <!-- <div class="divider"></div> -->

    
    <div class="heading-small">Der Fortschritt in Grafiken</div>
    <!-- TODO: aria-valuenow anhand der Eintragungen zur entsprechenden Challenge berechnen -->
    <div class="progress">
        <div id="progress-bar" class="progress-bar" role="progressbar" style="width:0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"><%= challenge.progress.percentage  %> %</div>
    </div>



    <div>
        <div style =" display:flex; flex-direction:row; justify-content:center;">
            <div class="top-container" style="height:600px; width: 95%;">

                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item">
                    <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
                        aria-selected="true">Eintragungen</a>
                        <!-- hier kommen die eingaben sortiert nach nutzer und datum rein -->
                        <!-- außerdem eine datenreihe mit dem Challenge-Goal -->
                    </li>
                    <li class="nav-item">
                    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile"
                        aria-selected="false">Fortschritt</a>
                        <!--  kann man sich sparen -->
                    </li>
                    <li class="nav-item">
                    <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact"
                        aria-selected="false">Aktivität</a>
                        <!-- hier kommen die Werte pro Person hin inkl. einer Linie, die das Ziel pro Person anzeigt -->
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                        <div class="container">
                            <div class="row my-3">
                                <div class="col">
                                    <h4>Bootstrap 4 Chart.js - Line Chart</h4>
                                </div>
                            </div>
                            <div class="row my-2">
                                <div class="col-md-12">
                                    <div class="card">
                                        <div class="card-body">
                                            <canvas id="chLine" height="100"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab"> 
                        <div class="container">
                            <div class="row my-3">
                                <div class="col">
                                    <h4>Bootstrap 4 Chart.js - Line Chart</h4>
                                </div>
                            </div>
                            <div class="row my-2">
                                <div class="col-md-12">
                                    <div class="card">
                                        <div class="card-body">
                                            <canvas id="chLine2" height="100"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                        <div class="container">
                            <div class="row my-3">
                                <div class="col">
                                    <h4>Bootstrap 4 Chart.js - Bar Chart</h4>
                                </div>
                            </div>
                            <div class="row my-2">
                                <div class="col-md-12">
                                    <div class="card">
                                        <div class="card-body">
                                            <canvas id="chBar" height="100"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        
        </div>
    </div>
    
</div>

<div class="divider"style="bottom:0; position:relative;" ></div>

<!-- bottom part -->
<div class="bottom-container">
    <div height=100px style="text-align: center">Impressum</div>
</div>